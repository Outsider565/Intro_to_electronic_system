# 第四次课

## 预习时的脑洞

1. 能否使用arb模式来获得更好的滤波效果，用两个频率不同的波，然后过滤掉其中一个，也可以尝试过滤掉指定频率范围的波，模拟声音处理应用（！！！可以试试阶梯！/方波）
2. 输出任意形状的波形，在示波器上显示，例如I ❤ U
3. 实测的采样频率 3.7kHz(可以认为是3000hz左右)
real sample_freq: 4485
real dac_freq: 4491
最多其实应该在5632

## TLC56520
1. 输出电压其实是$REF\times \frac{Code}{255} \times(1+RNG bit value)
2. 存在相位差：转换时间

## 滤波
1. 为什么会看起来有区别？可以用25Hz的50Hz的低通滤波，个人认为本质上还是数字信号的锅，会显示出阶梯性


## 测量频率
使用寻峰算法，探究不同情况下，寻峰的精确性

### 改变电压
3.0V 1.6V
Freq:  [248.4643438]
3.2V 1.6V
Freq:  [250.29210021,257.0869822,241.65546139,254.27729615,248.93220604,258.53527841,261.72142894,254.99613947,247.33880505,250.99060499]+1次失败
3.3V 1.65V
Freq:  [253.60221626,241.77703248,253.43644224,246.52074762,248.5767917,255.50486575,250.23101329,246.79503172,258.1716767,258.1716767]+4次失败

### 提升FFT_size至1024
Freq:  [251.71126717,249.94812977,249.12677228,252.10664605,250.30975309,248.08876197,249.78936141,249.60739598,257.04603669,250.76926296]+1次失败


照片是从255-250，分别的图

再附一组270

